name: Build CMake
inputs:
  target:
    required: true
  args:
    default: ''
  config:
    required: true
runs:
  using: composite
  steps:
  - name: Restore cmake-build cache
    uses: actions/cache@v3
    with:
      path: cmake-build
      key: cmake-build-${{ runner.os }}-${{ github.sha }}
  - name: Build projects
    shell: bash
    run: cmake --build cmake-build --config ${{ inputs.config }} --target ${{ inputs.target }} ${{ inputs.args}}
